@layout{
<div ng-init="loadHistory()"></div>
<h2>Shopping history</h2>
<hr>
    <table class="table table-hover">
        <thead>
        <tr>
            <th>DATE</th>
            <th>PRODUCT NAME</th>
            <th>QUANTITY</th>
            <th>TOTAL PRICE</th>
            <th>PAYMENT METHOD</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in history track by $index">
            <td>{{ item.date | date: 'd MMMM, yyyy' }}</td>
            <td>
                <div ng-repeat="product in item.products">
                    <div class="col-md-4">
                        <img class="img-responsive" width="75" height="115" ng-src="/getImage/{{ product.imageName }}">
                    </div>
                    <div class="col-md-8">
                        <strong>{{ product.name }}</strong>
                        <div>{{ product.author }}</div>
                        <div>{{ product.company }}</div>
                        <div>Price: <i class="fa fa-euro"></i>{{ product.price | number : 2 }}</div>
                    </div>
                    <div class="clearfix"></div>
                    <hr ng-if="!$last">
                </div>
            </td>
            <td>{{ item.quantity }}</td>
            <td><i class="fa fa-euro"></i>{{ item.total | number : 2 }}</td>
            <td>{{ item.paymentMethod }}</td>
        </tr>
        </tbody>
    </table>
</div>

}
